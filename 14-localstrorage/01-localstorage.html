<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  


<!--   LOCALSTORAGE - ALMACENAMIENTO LOCAL EN EL NAVEGADOR -->

<!--   ES UNA MANERA DE ALMACENAR INFORMACION EN EL NAVEGADOR A MODO DE SESION Y QUE ESTA INFORMACION PERSISTA Y ESTE DISPONIBLE TRAS LA NAVEGACION DE DIFERENTES PAGINAS, O DE NUESTRA PAGINA WEB O APLICACION WEB
  ES COMO UNA MEMORIA QUE PERMANECE MIENTRAS NAVEGAMOS EN NUESTRA PAGINA WEB, ES COMO UNA ESPECIE DE SESION -->

<!--   SUELE UTILIZARSE MUCHISIMO EN APLICACIONES WEBS DESARROLADAS CON JS Y COMPARTIR DATOS ENTRE LAS DIFERENTES SECCIONES
  POR EJEMPLO EN UN APP WEB MONILITICA CLASICA DESARROLLADA CON UN LENGUAJE DE BACKEND O CON UN PHP EL USO DE LOCALSTORAGE NO ES COMO TAL LOCALSTORAGE, SI NO QUE SE UTILIZA EN LAS SESIONES
  LAS SESIONES ES COMO UNA MENORIA QUE TAMBIEN PERSISTEN PERO A NIVEL DE BACKEND, SIN EMBARGO EL LOCAL STORAGE ES UNA MEMORIA QUE TENEMOS EN EL NAVEGADOR GUARDADA Y AHI SE VA GUARDANDO LOS DATOS QUE NOSOTROS VAMOS PERSISTIENDO EN EL LOCALSTORAGE -->

  

<!-- PARA COMPROBAR SI EL localStorage ES COMPATIBLE CON NUESTRO ORDENADOR HAREMOS LO SIGUIENTE -->

if(typeof(Storage) !== 'undefined'){
  console.log ("Localstorage disponible");
  }else{
    console.log ("Incompatible con Localstorage");
  } 
<!--   EN LA CONSOLA NOS APARECERA EL MENSAJE SI ESTA DISPONIBLE O NO  -->

<!-- ESTE TIPO DE MEMORIA LA PODEMOS ADMINISTRAR EN LA PARTE DE INSPECCIONAR NOS VAMOS Application TENEMOS EL Clear Storage QUE NOS PERMITE BORRAR EL Localstorage QUE TENGAMOS O EL IndexedBD QUE TENGAMOS
Y AHI NOS APARECE EL Local Storage DE file:// ESTO SERIA NUESTRO DOMINIO PORQUE AHORA NO ESTAMOS NO ESTAMOS UTILIZANDO UN DOMINIO PERO HAY UN Local Storage POR DOMINIO
DE FORMA NO COMPARTIMOS EL Local Storage CON TODOS LOS SITIOS WEBS QUE TENGAMOS SI NO QUE EN CADA PAGINA WEB TENEMOS UN Local Storage DIFERENTE
AHI MISMO TENEMOS LAS KEY (CLAVES) Y LOS VALUE (VALORES) QUE HAY GAURDADA EN MI Local Storage AHI PODRIAMOS GUARDAR INFORMACION -->




<!-- VAMOS A VER COMO GUARDAR UN DATO EN EL Local Storage -->
<!-- PARA ALMACENAR DATOS Y GUARDAR NUEVOS ELEMENTOS O INDICES EN EL localStorage  -->
localStorage.setItem("titulo", "Curso de Symfony");<!-- UTILIZAMOS EL OBJETO DE localStorage.setItem Y LE PONEMOS LA CLAVE EL NOMBRE QUE VA A TENER Y EL VALOR QUE VA A TENER DE ESTA MANERA YA ESTAMOS GUARDANDO UN ELEMENTO EN EL localStorage  -->
<!-- DE ESTA MANERA AÑADIMOS UN VALOR AL localStorage -->
<!-- TENEMOS EN Application LA Key que es titulo y Value que es curso de Symfony SI LE ACTUALIZAMOS LA KEY Y LE PONEMOS OTRO TITULO Y LE DAMOS A REFRESCAR NOS APARECERA EL NUEVO CODIGO CON EL TITULO NUEVO-->




<!-- COMO PODEMOS RECUPERAR UN ELEMENTO Y METERLO EN MI PAGINA WEB EN STRING -->
console.log(localStorage.getItem("titulo"));<!-- ACCEDEMOS AL OBJETO localStorage Y ACCEDEMOS AL METODO .getItem DE ESTA MANERA CONSIGO UN ELEMENTO DEL localStorage EL NOMBRE DEL ELEMENTO ES EL NOMBRE DE SU INDICE EN ESTE CASO ES ("titulo") ESE SERIA EL NOMBRE DE LA CLAVE -->

<!-- SI HACEMOS UN CONSOLE.LOG TENEMOS ESE VALOR QUE TENEMOS GUARDADO EN EL localStorage QUE TENEMOS GUARDADO EN LA MEMORIA DE MI NAVEGADOR -->
<!-- SI NOS VAMOS A CONSOLA NOS APARECE Curso de Symfony  -->




<!-- SI QUEREMOS METERLO EN EL CUERPO DE NUESTRA PAGINA WEB PONDREMOS LO SIGUIENTE  -->
document.querySelector("#peliculas").innerHTML= localStorage.getItem("titulo"); <!-- document.querySelector Y SELECCIONAMOS ("#peliculas") EL DIV QUE TENEMOS EN ESTE CASO ES PELICULAS Y HAREMOS UN innerHTML DE ESTA MANERA METEMOS EL VALOR QUE TENEMOS EN MI INDICE DE MI localStorage EN MI PAGINA WEB -->



<!-- GUARDAR OBJETOS EN EL LOCALSTORAGE -->
<!-- SI QUEREMOS GUARDAR UN OBJETO JSON EN EL localStorage CREAREMOS UNA VARIABLE DE USUARIO Y AHI TENER NUESTRO OBJETO JSON (CREAMOS EL OBJETO CON SUS PORPIEDADES Y LE DAMOS VALOR A ESAS PROPIEDADES SEPARADO POR COMAS) -->

var usuario= {
  nombre: "Estefania Estepa",
  email: "estefaniaestepaalcon@gmail.com",
  web: "estefaniaweb.es"
};

localStorage.setItem("usuario", JSON.stringify(usuario)); <!-- AHORA HARIAMOS UN localStorage.setItem Y LE VAMOS A DECIR EL NOMBRE , NUESTRO INDICE ("usuario") ESTO ES LA KEY DEL localStorage LA CLAVE Y LE VAMOS A PASAR NUESTRO ELEMENTO , usuario -->
<!-- PARA PASAR LOS DATOS DEL LOCAL STORAGE Y QUE NO NOS DE ERROR SON NECESARIOS CONVERTIRLOS A UN STRING ESTA ES LA MANERA LA CUAL SE PUEDEN ENVIAR DATOS VIA HTTP PARA ESO ACCEDEREMOS AL METODO JSON. 
(VAMOS A UTILIAR EL JSON.stringify) SI NOS VAMOS Application NOS APARECE NUESTRO OBJETO COMPLETO YA LO INTERPRETA EN NAVEGADOR COMO QUE ES UN jasonString Y YA LO DECODIFICA-->



<!-- RECUPERAR OBJETOS  -->
<!-- QUEREMOS RECUPERAR EL OBJETO DEL localStorage PERO NO SABEMOS COMO PORQUE ESE OBJETO ES UN JSON.string -->
console.log(localStorage.getItem("usuario")); <!-- SI NOSOTROS DEL localStorage HACEMOS UN .getItem Y SELECCIONAMOS EL ELEMENTO ("usuario") SI HACEMOS UN console.log  VAMOS A VE EN LA CONSOLA QUE ESO ES UN STRING Y NO UN OBJETO -->

<!-- COMO PODEMOS HACER PARA CONVERTIR ESE JSON.string EN UN JSON USABLE POR JS  -->
var userjs= JSON.parse(localStorage.getItem("usuario")); <!-- PARA ESO HAY UN METODO QUE SE LLAMA JSON.parse LO QUE HACEMOS ES PARSEAR O CONVERTIR EL JSON.string QUE TEMEMOS AQUI (localStorage.getItem("usuario")) EN UN OBJETO DE JS USABLE ESTO LO GUARDAREMOS EN UNA VARIABLE -->
console.log (userjs); <!-- EN LA CONSOLA NOS APARECE NUESTRO OBJETO DE JS COMPLETAMENTE USABLE  -->
document.querySelector("#datos").append(userjs.web+" - "+userjs.nombre);<!-- DE FORMA QUE PODRIAMOS HACER UN document.querySelector("#peliculas") Y AÑADIRLE UN ELEMENTO HACERLE UN .append(userjs.web) Y YA NOS AÑADE NUESTRO ELEMENTO A LA WEB -->
<!-- TAMBIEN PODRIAMOS CONCATENAR ESPACIOS Y NOMBRE 
EN USERS.JS TENEMOS UN OBJETO CON TODA LA INFORMACION ACCESIBLE -->



<!-- COMO BORRAR LA MEMORIA DE LOS DATOS QUE TENEMOS EN EL LOCALSTORAGE -->
localStorage.removeItem("usuario");<!--  PONDREMOS EL ELEMENTO QUE QUEREMOS BORRAR ("usuario") DE FORMA QUE SI ACTUALIZAMOS EN NUESTRA WEB SIGUE APARECIENDO NUESTRA INFORMACION PORQUE SE HA EJECUTADO EN CASCADA DE ARRIBA ABAJO SE HA EJECUTADO EL CODIGO
PERO CUANDO HA LLEGADO ABAJO NOS ACABA DE ELIMINAR EN KEY EL USUARIO DEL LOCALSTORAGE YA NO TENEMOS ESE INDICE -->

localStorage.clear();<!--  SI UTILIZAMOS EL METODO CLEAR LO QUE HACE ES VACIAR ES TODO EL LOCALSTORAGE -->



<!-- ESTO LO HEMOS COGIDO DE NUESTRO HTML -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Curso de JS</title>

</head>
<body>
  <h1>JSON</h1>
  <div id="peliculas">
    <h2>Peliculas</h2>
  </div>

  <div id="datos">

  </div>

<!--   <script type="text/javascript" src="js/33-json.js"></script> -->
  <script type="text/javascript" src="js/34-localstorage.js"></script>
</body>
</html>
</body>
</html>